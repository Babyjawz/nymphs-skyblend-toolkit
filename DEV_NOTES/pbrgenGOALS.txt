ğŸ§© Skyrim PBR Additions â€” Enhanced PBRGen for Blender

This enhanced version of PBRGen adds full support for Skyrimâ€™s modern PBR and ParallaxGen/PGPatcher texture conventions, including accurate channel packing, optional advanced maps, and seamless DDS export.

ğŸ”¹ 1. RMAOS â€” Skyrim-Accurate Channel Packing

Rebuilt from the ground up to match Skyrimâ€™s PBR pipeline, ensuring compatibility with ParallaxGen, PGPatcher, and BSLightingShaderProperty materials.

Channel	Function	Source
R	Gloss (1 âˆ’ Roughness, gamma 0.5)	From rough map
G	Metalness	From metal map
B	Ambient Occlusion	From AO map
A	Specular Intensity	From specular map (linear, not inverted)not inverted)

âœ¨ Results in natural contrast, correct specular behavior, and visual parity with verified Skyrim PBR packs (e.g. SacredLeaf01, Tree Bark, etc.).

ğŸ”¹ 2. Complex Mask â€” _m.dds

Implements Skyrimâ€™s â€œEnvironment / Complex Material Maskâ€ used for reflective, emissive, or layered materials.

Channel	Function	Derived From
R	Reflectivity / Fresnel intensity	Specular or metal
G	Detail mask / microblend	Inverted roughness
B	AO or emissive hint	AO map
A	Constant 255	â€”

ğŸŸ¢ Optional toggle: â€œGenerate Complex Mask (_m)â€
Outputs _m.dds compatible with _em.dds and _envmask.dds shader inputs.

ğŸ”¹ 3. Subsurface Tint â€” _s.dds

Generates subsurface tint/specular maps exactly as Skyrim uses them â€” with three selectable styles matching vanilla use cases.

Mode	Description	Ideal Use
ğŸ©¸ Skin / Organic	Red-pink tint + gloss	Skin, wax, meat
ğŸŒ¿ Foliage / Vegetation	Green-biased tint + gloss	Leaves, grass
âšª Specular Only	Grayscale, no tint	Metal, stone, armor

ğŸŸ¢ Toggles:

Generate Subsurface Map (_s)

Subsurface Tint Mode: Skin / Organic, Foliage / Vegetation, Specular Only

ğŸ”¹ 4. UI Additions

All new options appear under the Extras section in the Blender Add-on Panel:

Option	Default	Description
Generate Complex Mask (_m)	Off	Builds _m.dds for complex reflective/emissive materials
Generate Subsurface Map (_s)	Off	Builds _s.dds tint/specular maps
Subsurface Tint Mode	Skin / Organic	Choose tinting behavior for _s.dds generation

ğŸ”¹ 5. Improvements & Compatibility

Skyrim-accurate RMAOS output (no magenta tint).

Keeps Matyalatte DDS export system untouched.

Eliminates redundant _basecolor_basecolor.dds naming.

Subtle progress output for long exports.

Fully compatible with Blender 4.5+ and Skyrim PBR shaders.

ğŸ§± Output Summary
Texture	Example Filename	Notes
Base Color	ElmBark.dds	Original albedo
Normal	ElmBark_n.dds	Tangent-space normal
Height	ElmBark_p.dds	Parallax / height
RMAOS	ElmBark_rmaos.dds	Gloss / Metal / AO / Spec
Complex Mask	ElmBark_m.dds	Optional environment mask
Subsurface Tint	ElmBark_s.dds	Optional SSS / specular tint

ğŸ’¡ These changes make your exported textures drop-in ready for Skyrimâ€™s current-gen PBR pipelines (ParallaxGen, PGPatcher, and TruePBR materials), while keeping the classic workflow intact for all other games.